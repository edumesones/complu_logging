<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complu Logging - Inicio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🏒 Complu Logging - Hockey</h1>
            <p id="currentDate"></p>
        </header>
        
        <!-- Indicador de sincronización -->
        <div id="syncIndicator" class="sync-indicator">
            🔄 Sincronizando...
        </div>
        
        <main>
            <button class="nav-button pc-favor" onclick="window.location.href='pc-favor.html'">
                <span class="button-icon">⚽</span>
                <span class="button-text">PC A FAVOR</span>
            </button>
            
            <button class="nav-button pc-contra" onclick="window.location.href='pc-contra.html'">
                <span class="button-icon">🥅</span>
                <span class="button-text">PC EN CONTRA</span>
            </button>
            
            <button class="nav-button ana" onclick="window.location.href='ana.html'">
                <span class="button-icon">👤</span>
                <span class="button-text">Ana</span>
            </button>
            
            <button class="nav-button maxi" onclick="window.location.href='maxi.html'">
                <span class="button-icon">🚀</span>
                <span class="button-text">MAXI</span>
            </button>
        </main>
        
        <footer>
            <button class="email-button" onclick="sendEmail()">
                📧 Enviar Reporte por Email
            </button>
            <button class="clear-button" onclick="limpiarDatosManual()" style="margin-top: 10px;">
                🗑️ Limpiar Todos los Datos
            </button>
        </footer>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- Supabase SDK - CDN más confiable -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Fallback si el CDN falla -->
    <script>
        if (typeof window.supabase === 'undefined') {
            console.log('⚠️ CDN de Supabase falló, cargando desde unpkg...');
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/@supabase/supabase-js@2.38.4/dist/umd/supabase.js';
            document.head.appendChild(script);
        }
    </script>
    <!-- Configuración Supabase -->
    <script src="supabase-config.js"></script>
    <!-- Verificación adicional para Index -->
    <script>
        // Verificar que Supabase se haya inicializado correctamente
        setTimeout(() => {
            if (typeof supabase === 'undefined' || supabase === null) {
                console.log('🔄 Reintentando inicialización de Supabase en Index...');
                if (typeof initializeSupabase === 'function') {
                    initializeSupabase();
                }
            }
            
            // Inicializar sincronización en tiempo real
            if (typeof initRealtimeSync === 'function') {
                console.log('🔄 Iniciando sincronización en tiempo real...');
                initRealtimeSync();
            }
        }, 500);
    </script>
    <!-- Configuración EmailJS temporal -->
    <script src="config.js"></script>
    <!-- Script principal -->
    <script src="script.js"></script>
</body>
</html> 